# MQTT

- ย่อมาจาก Message Queuing Telemetry Transport เป็นการสื่อสารระหว่าง M2M (Machine to Machine) ที่มีประสิทธิภาพสูง
- เป็นโปรโตคอลที่ lightweight ใช้พลังงานต่ำกว่า และเร็วกว่า HTTP ถึง 93 เท่า

## QoS (Quality of Service)
1. At most once
   - การส่งข้อมูลที่สามารถสูญหายได้ และไม่พยายามส่งข้อมูลซ้ำ หากการส่งข้อมูลไม่สำเร็จ

2. At least once
   - การส่งข้อมูลอย่างน้อยหนึ่งครั้ง แต่ไม่รับประกันว่าข้อมูลจะไม่ซ้ำซ้อน อาจส่งข้อมูลซ้ำในกรณีที่มีข้อผิดพลาด

3. Exactly once
   - การส่งข้อมูลอย่างแน่นอนเพียงครั้งเดียว โดยการรับประกันว่าไม่ซ้ำซ้อนและไม่สูญหาย ใช้การจัดการที่ซับซ้อนที่สุดในการรับประกัน

## MQTT Components

1. Broker
   - เป็นศูนย์กลางที่รับผิดชอบในการจัดการการส่งข้อมูลระหว่าง clients ต่าง ๆ และจัดการการเชื่อมต่อกับ topics

2. Topic
   - เป็นชื่อหัวเรื่องที่ใช้ในการจัดกลุ่มข้อความเพื่อให้ clients สามารถสมัครรับข้อมูลหรือส่งข้อมูลไปยังกลุ่มหัวเรื่องนี้ได้

3. Message
   - ค่าที่ส่งทั้งหลายภายใน payload ของข้อความ ซึ่งอาจเป็นข้อมูลต่าง ๆ ตามที่ต้องการ

4. Publish
   - เป็นกระบวนการที่อุปกรณ์หรือ client ส่งข้อความไปยัง broker โดยระบุหัวเรื่องที่ต้องการเผยแพร่

5. Subscribe
   - เป็นกระบวนการที่อุปกรณ์หรือ client ลงทะเบียนเพื่อรับข้อความจาก broker ตามหัวเรื่องที่สนใจ

## MQTT broker, client

- MQTT broker สามารถทำหน้าที่เป็นศูนย์กลางในการจัดการข้อความระหว่าง clients ต่าง ๆ โดยไม่ต้องสนใจว่าข้อความที่ส่งไปจะไปถึงใคร
- Clients (อุปกรณ์) ที่ส่งข้อความ (publish) และรับข้อความ (subscribe) จะไม่รู้จักกันโดยตรง ซึ่งช่วยลดความซับซ้อนในการสื่อสาร
- ข้อมูลที่ส่งและรับจะถูกจัดเก็บที่ cloud หรือ broker และไม่เก็บข้อมูลไว้ในตัวอุปกรณ์เอง

